<!--#region Print Invoice -->
<div hidden>
  <div
    id="invoice-print"
    style="position: absolute; top: 0; left: 0; width: calc(100% - 5px)"
  >
    <div
      class=""
      [formGroup]="form"
      style="
        background-color: #fff;
        font-size: 13px !important;
        font-family: Arial, Helvetica, sans-serif;
      "
    >
      <div
        class="top"
        style="
          display: flex;
          flex-direction: column;
          align-items: center;
          border-bottom: 1px solid #000;
          margin-bottom: 10px;
        "
      >
        <div style="flex: 1; flex-direction: column; align-items: center">
          <div class="headline-title" style="font-size: 16px">Nhà hàng 143</div>
        </div>
        <div style="flex: 1; flex-direction: column; align-items: center">
          <div class="heading-1">143 Nguyễn Phúc Chu, P15, Tân Bình</div>
        </div>
        <div
          class="top"
          style="display: flex; flex-direction: column; align-items: center"
        >
          <div class="heading-1">ĐT: 0988 78 38 38</div>
        </div>
      </div>
      <!-- Title 2 -->
      <div
        class="top"
        style="display: flex; flex-direction: column; align-items: center"
      >
        <div style="flex: 1; flex-direction: column; align-items: center">
          <div class="headline-title" style="font-size: 16px; font-weight: 600">
            PHIẾU THANH TOÁN
          </div>
        </div>
        <div style="flex: 1; flex-direction: column; align-items: center">
          <div class="heading-1">
            Bàn số:
            {{ table?.tableName }} - Khu vực: {{ table?.tableSectionName }}
          </div>
        </div>
        <div
          class="top"
          style="display: flex; flex-direction: column; align-items: center"
        >
          <div class="heading-1">
            {{ form?.controls["createdAt"].value | date : "dd/MM/yyyy H:mm" }}
          </div>
        </div>
        <div
          class="top"
          style="display: flex; flex-direction: column; width: 100%"
        >
          <div class="heading-1">
            Thu ngân: {{ form?.controls["employeeName"].value }}
          </div>
        </div>
      </div>

      <!-- Title DS -->
      <div
        class="mid"
        style="
          margin-top: 10px;
          border-top: 1px solid #000;
          border-bottom: 1px solid #000;
        "
      >
        <div class="head-detail" style="padding: 2px 0">
          <div
            class="col-8"
            style="display: flex; flex-direction: row; font-weight: 600"
          >
            <div class="heading-1" style="flex: 5">Tên món</div>
            <div class="heading-1" style="flex: 2; text-align: end">SL</div>
            <div class="heading-1" style="flex: 3; text-align: end">
              Thành tiền
            </div>
          </div>
        </div>

        <!-- DS -->
        <div
          class="body-detail"
          formArrayName="orderDetail"
          style="height: min-content"
        >
          <!-- ds -->
          <ng-container
            *ngFor="let food of orderDetails?.controls; let i = index"
          >
            <div
              class="food"
              formGroupName="{{ i }}"
              style="border-top: 0.01px solid #b7b7b7; padding: 1px 0"
            >
              <div class="coloum">
                <div
                  style="
                    border: 0;
                    width: 100%;
                    background: none;
                    border: 0;
                    width: 100%;
                    height: 16px;
                  "
                >
                  {{ food?.get("productName")?.value }}
                </div>
              </div>
              <div
                class="coloum"
                style="
                  margin-top: 4px;
                  display: flex;
                  flex-direction: row;
                  align-items: center;
                  height: 16px;
                "
              >
                <div class="row-5" style="flex: 5">
                  <div class="name">
                    <div class="">
                      {{ food?.get("price")?.value }}
                    </div>
                    <div style="font-style: italic">
                      {{ food?.get("description")?.value }}
                    </div>
                  </div>
                </div>
                <div
                  class="row-2"
                  style="
                    flex: 2;
                    display: flex;
                    flex-direction: row;
                    justify-content: flex-end;
                  "
                >
                  <div>
                    <div style="width: 1.5rem; border: 0; text-align-last: end">
                      {{ food?.get("qty")?.value }}
                    </div>
                  </div>
                </div>
                <div class="row-2" style="flex: 3; text-align: end">
                  {{
                    totalItem(orderDetails.controls[i]) | currency : "VND" : ""
                  }}
                </div>
              </div>
            </div></ng-container
          >
        </div>
      </div>

      <!-- Total -->
      <div class="bot" style="border: 0; margin-top: 10px">
        <div class="bot-up" style="font-size: 14px">
          <div
            class="sub-total"
            style="display: flex; justify-content: space-between"
          >
            <div
              class="col-10"
              style="flex: 7; text-align: end; font-weight: 700"
            >
              Tạm tính:
            </div>
            <div
              class="col-2"
              style="flex: 3; text-align: end; font-weight: 700"
            >
              {{ totalSub() | currency : "VND" : "" }}
            </div>
          </div>

          <div
            class="discount"
            style="display: flex; justify-content: space-between"
          >
            <div style="flex: 7">
              <div style="text-align: end; font-weight: 700">
                VAT({{ form.get("tax").value }}%):
              </div>
            </div>
            <div
              class="col-2"
              style="flex: 3; text-align: end; font-weight: 700"
            >
              {{
                (totalSub() * form.get("tax").value) / 100
                  | currency : "VND" : ""
              }}
            </div>
          </div>

          <div class="discount" style="display: flex">
            <div class="col-10" style="flex: 7; text-align: end">
              <div class="text" style="font-weight: 700">Tổng cộng:</div>
            </div>
            <div
              class="col-2"
              style="flex: 3; text-align: end; font-weight: 700"
            >
              {{ totalAll() | currency : "VND" : "" }}
            </div>
          </div>
        </div>
        <div class="bot-down" style="font-size: 13px; margin-top: 8px">
          <div class="">Vui lòng kiểm tra trước khi thanh toán.</div>
          <div class="">Chỉ xuất hóa đơn trong ngày.</div>
          <div class="" style="text-align: center; margin-top: 8px">
            Chúc An Lành và Hạnh Phúc!
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!--#endregion -->

<!--#region Print Process -->
<div hidden>
  <div
    class="right-column"
    id="process-print"
    style="
      margin-top: 15px;
      position: absolute;
      top: 0;
      left: 0;
      width: calc(100% - 5px);
    "
  >
    <div
      [formGroup]="form"
      style="
        background-color: #fff;
        font-size: 14px !important;
        font-family: Arial, Helvetica, sans-serif;
      "
    >
      <div
        class="top"
        style="
          display: flex;
          flex-direction: column;
          align-items: center;
          border-bottom: 1px solid #000;
          margin-bottom: 10px;
        "
      >
        <div style="flex: 1; flex-direction: column; align-items: center">
          <div class="headline-title" style="font-size: 17px">Nhà hàng 143</div>
        </div>
        <div style="flex: 1; flex-direction: column; align-items: center">
          <div class="heading-1">143 Nguyễn Phúc Chu, P15, Tân Bình</div>
        </div>
        <div
          class="top"
          style="display: flex; flex-direction: column; align-items: center"
        >
          <div class="heading-1">ĐT: 0988 78 38 38</div>
        </div>
      </div>
      <!-- Title 2 -->
      <div
        class="top"
        style="display: flex; flex-direction: column; align-items: center"
      >
        <div style="flex: 1; flex-direction: column; align-items: center">
          <div class="headline-title" style="font-size: 17px; font-weight: 600">
            PHIẾU CHẾ BIẾN
          </div>
        </div>
        <div style="flex: 1; flex-direction: column; align-items: center">
          <div class="heading-1">
            Bàn số:
            {{ table?.tableName }} - Khu vực: {{ table?.tableSectionName }}
          </div>
        </div>
        <div
          class="top"
          style="display: flex; flex-direction: column; align-items: center"
        >
          <div class="heading-1">
            <!-- {{ form?.controls["createdAt"].value | date : "dd/MM/yyyy" }} -->
          </div>
        </div>
        <div
          class="top"
          style="display: flex; flex-direction: column; width: 100%"
        >
          <div class="heading-1">Khách hàng:</div>
        </div>
      </div>

      <!-- Title DS -->
      <div
        class="mid"
        style="
          margin-top: 10px;
          border-top: 1px solid #000;
          border-bottom: 1px solid #000;
        "
      >
        <div class="head-detail" style="padding: 2px 0">
          <div
            class="col-8"
            style="display: flex; flex-direction: row; font-weight: 600"
          >
            <div class="heading-1" style="flex: 2">SL</div>
            <div class="heading-1" style="flex: 6">Tên món</div>
            <div class="heading-1" style="flex: 3; text-align: end">Giờ in</div>
          </div>
        </div>

        <!-- DS -->
        <div
          class="body-detail"
          formArrayName="orderDetail"
          style="height: min-content"
        >
          <!-- ds -->
          <ng-container *ngFor="let food of orderKitchen; let i = index">
            <div
              class="food"
              style="border-top: 0.01px solid #b7b7b7; padding: 1px 0"
            >
              <div
                class="coloum"
                style="
                  margin-top: 4px;
                  display: flex;
                  flex-direction: row;
                  align-items: center;
                  height: 16px;
                "
              >
                <ng-container *ngIf="!food?.isRemove; else foodRemove">
                  <div class="row-2" style="flex: 2">
                    <div style="width: 1rem; border: 0; text-align: end">
                      {{ food?.qty }}
                    </div>
                  </div>
                  <div class="row-5" style="flex: 6">
                    <div
                      style="
                        white-space: nowrap;
                        overflow: hidden;
                        text-overflow: ellipsis;
                      "
                    >
                      {{ food?.productName }}
                    </div>
                  </div>
                </ng-container>

                <ng-template #foodRemove>
                  <div class="row-2" style="flex: 2">
                    <div style="width: 1rem; border: 0; text-align: end">
                      -{{ food?.qty }}
                    </div>
                  </div>
                  <div class="row-5" style="flex: 6">
                    <div
                      style="
                        white-space: nowrap;
                        overflow: hidden;
                        text-overflow: ellipsis;
                        text-decoration: line-through;
                      "
                    >
                      {{ food?.productName }}
                    </div>
                  </div>
                </ng-template>

                <div class="row-2" style="flex: 2; text-align: end">
                  {{ today | date : "H:mm" }}
                </div>
              </div>
              <div style="font-style: italic">{{ food?.description }}</div>
            </div>
          </ng-container>
        </div>
      </div>
    </div>
  </div>
</div>
<!--#endregion -->

<ng-container *ngIf="isLoading == false; else loading">
  <div class="right-column">
    <div class="pages12" [formGroup]="form">
      <div
        style="display: flex; width: 100%; justify-content: space-between"
        class="header"
      >
        <div class="headline-title" style="margin: 10px; margin-left: 0">
          PHIẾU THANH TOÁN
        </div>
        <div>
          <button
            mat-icon-button
            [matMenuTriggerFor]="menu"
            aria-label="Example icon-button with a menu"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="18"
              height="18"
              viewBox="0 0 18 18"
              fill="none"
            >
              <path
                d="M6.53118 16.0199L6.25825 15.3213L6.53118 16.0199ZM2.47478 16.7988L2.09978 17.4483L2.09978 17.4483L2.47478 16.7988ZM1.12116 12.8964L0.379715 13.0093L1.12116 12.8964ZM1.61146 10.2941L2.26098 10.6691L1.61146 10.2941ZM1.02731 11.5314L0.290281 11.3925H0.290281L1.02731 11.5314ZM8.53967 14.2941L9.18918 14.6691L8.53967 14.2941ZM7.76024 15.4186L8.24902 15.9875H8.24902L7.76024 15.4186ZM5.4099 3.71503L4.76038 3.34003L5.4099 3.71503ZM16.4099 18.0009C16.8241 18.0009 17.1599 17.6651 17.1599 17.2509C17.1599 16.8367 16.8241 16.5009 16.4099 16.5009V18.0009ZM10.4099 16.5009C9.99569 16.5009 9.6599 16.8367 9.6599 17.2509C9.6599 17.6651 9.99569 18.0009 10.4099 18.0009V16.5009ZM11.6886 7.34003L7.89015 13.9191L9.18918 14.6691L12.9876 8.09003L11.6886 7.34003ZM2.26098 10.6691L6.05942 4.09003L4.76038 3.34003L0.961943 9.91912L2.26098 10.6691ZM6.25825 15.3213C5.16178 15.7497 4.41502 16.0394 3.83854 16.1741C3.28167 16.3042 3.02898 16.2527 2.84978 16.1493L2.09978 17.4483C2.75305 17.8255 3.45392 17.8044 4.17981 17.6348C4.88609 17.4698 5.75129 17.1298 6.80411 16.7184L6.25825 15.3213ZM0.379715 13.0093C0.549904 14.1267 0.688048 15.046 0.898285 15.7402C1.11436 16.4536 1.44651 17.0712 2.09978 17.4483L2.84978 16.1493C2.67059 16.0458 2.49965 15.8527 2.33389 15.3054C2.16229 14.7388 2.03986 13.9472 1.86261 12.7835L0.379715 13.0093ZM0.961943 9.91912C0.640122 10.4765 0.382457 10.9033 0.290281 11.3925L1.76434 11.6702C1.7983 11.49 1.88802 11.3151 2.26098 10.6691L0.961943 9.91912ZM1.86261 12.7835C1.7503 12.046 1.73039 11.8505 1.76434 11.6702L0.290281 11.3925C0.198105 11.8817 0.282803 12.373 0.379715 13.0093L1.86261 12.7835ZM7.89015 13.9191C7.51719 14.5651 7.41055 14.7303 7.27146 14.8498L8.24902 15.9875C8.62661 15.6631 8.86736 15.2265 9.18918 14.6691L7.89015 13.9191ZM6.80411 16.7184C7.40362 16.4842 7.87142 16.3119 8.24902 15.9875L7.27146 14.8498C7.13237 14.9693 6.95303 15.0498 6.25825 15.3213L6.80411 16.7184ZM10.499 2.90045C11.3339 3.38245 11.8939 3.70761 12.2797 4.00537C12.6483 4.28983 12.7658 4.48144 12.8135 4.65945L14.2623 4.27123C14.0956 3.64904 13.6976 3.20485 13.1961 2.81785C12.7119 2.44416 12.0471 2.06221 11.249 1.60141L10.499 2.90045ZM12.9876 8.09003C13.4484 7.29189 13.8331 6.62875 14.0657 6.06299C14.3065 5.47711 14.4291 4.89341 14.2623 4.27123L12.8135 4.65945C12.8612 4.83747 12.8553 5.06212 12.6783 5.49278C12.493 5.94357 12.1706 6.50517 11.6886 7.34003L12.9876 8.09003ZM11.249 1.60141C10.4509 1.1406 9.78772 0.755898 9.22197 0.523373C8.63608 0.282573 8.05238 0.159968 7.4302 0.326681L7.81843 1.77557C7.99644 1.72787 8.22109 1.73376 8.65175 1.91076C9.10254 2.09604 9.66414 2.41844 10.499 2.90045L11.249 1.60141ZM6.05942 4.09003C6.54142 3.25517 6.86658 2.69516 7.16434 2.30931C7.4488 1.9407 7.64041 1.82327 7.81843 1.77557L7.4302 0.326681C6.80801 0.493395 6.36382 0.891423 5.97683 1.39291C5.60313 1.87716 5.22118 2.54189 4.76038 3.34003L6.05942 4.09003ZM12.7131 7.06551L5.7849 3.06551L5.0349 4.36455L11.9631 8.36455L12.7131 7.06551ZM16.4099 16.5009H10.4099V18.0009H16.4099V16.5009Z"
                fill="#2D264B"
              />
            </svg>
          </button>
          <mat-menu #menu="matMenu">
            <button
              mat-menu-item
              (click)="printInvoice()"
              *ngIf="canAccess('print-invoice')"
            >
              <mat-icon>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="20"
                  height="22"
                  viewBox="0 0 20 22"
                  fill="none"
                >
                  <path
                    d="M3.06107 20.0451L3.50191 19.4383L3.06107 20.0451ZM1.95491 18.9389L2.56168 18.4981L1.95491 18.9389ZM18.0451 18.9389L17.4383 18.4981L18.0451 18.9389ZM16.9389 20.0451L16.4981 19.4383L16.9389 20.0451ZM16.9389 1.95491L16.4981 2.56168L16.9389 1.95491ZM18.0451 3.06107L17.4383 3.50191L18.0451 3.06107ZM3.06107 1.95491L3.50191 2.56168L3.06107 1.95491ZM1.95491 3.06107L2.56168 3.50191L1.95491 3.06107ZM6 6.25C5.58579 6.25 5.25 6.58579 5.25 7C5.25 7.41421 5.58579 7.75 6 7.75V6.25ZM14 7.75C14.4142 7.75 14.75 7.41421 14.75 7C14.75 6.58579 14.4142 6.25 14 6.25V7.75ZM6 10.25C5.58579 10.25 5.25 10.5858 5.25 11C5.25 11.4142 5.58579 11.75 6 11.75V10.25ZM14 11.75C14.4142 11.75 14.75 11.4142 14.75 11C14.75 10.5858 14.4142 10.25 14 10.25V11.75ZM6 14.25C5.58579 14.25 5.25 14.5858 5.25 15C5.25 15.4142 5.58579 15.75 6 15.75V14.25ZM9 15.75C9.41421 15.75 9.75 15.4142 9.75 15C9.75 14.5858 9.41421 14.25 9 14.25V15.75ZM18.25 10V12H19.75V10H18.25ZM1.75 12V10H0.25V12H1.75ZM10 20.25C8.10843 20.25 6.74999 20.249 5.69804 20.135C4.66013 20.0225 4.00992 19.8074 3.50191 19.4383L2.62023 20.6518C3.42656 21.2377 4.37094 21.5 5.53648 21.6263C6.68798 21.751 8.14184 21.75 10 21.75V20.25ZM0.25 12C0.25 13.8582 0.248971 15.312 0.373728 16.4635C0.500006 17.6291 0.762324 18.5734 1.34815 19.3798L2.56168 18.4981C2.19259 17.9901 1.97745 17.3399 1.865 16.302C1.75103 15.25 1.75 13.8916 1.75 12H0.25ZM3.50191 19.4383C3.14111 19.1762 2.82382 18.8589 2.56168 18.4981L1.34815 19.3798C1.70281 19.8679 2.13209 20.2972 2.62023 20.6518L3.50191 19.4383ZM18.25 12C18.25 13.8916 18.249 15.25 18.135 16.302C18.0225 17.3399 17.8074 17.9901 17.4383 18.4981L18.6518 19.3798C19.2377 18.5734 19.5 17.6291 19.6263 16.4635C19.751 15.312 19.75 13.8582 19.75 12H18.25ZM10 21.75C11.8582 21.75 13.312 21.751 14.4635 21.6263C15.6291 21.5 16.5734 21.2377 17.3798 20.6518L16.4981 19.4383C15.9901 19.8074 15.3399 20.0225 14.302 20.135C13.25 20.249 11.8916 20.25 10 20.25V21.75ZM17.4383 18.4981C17.1762 18.8589 16.8589 19.1762 16.4981 19.4383L17.3798 20.6518C17.8679 20.2972 18.2972 19.8679 18.6518 19.3798L17.4383 18.4981ZM10 1.75C11.8916 1.75 13.25 1.75103 14.302 1.865C15.3399 1.97745 15.9901 2.19259 16.4981 2.56168L17.3798 1.34815C16.5734 0.762324 15.6291 0.500006 14.4635 0.373728C13.312 0.248971 11.8582 0.25 10 0.25V1.75ZM19.75 10C19.75 8.14184 19.751 6.68798 19.6263 5.53648C19.5 4.37094 19.2377 3.42656 18.6518 2.62023L17.4383 3.50191C17.8074 4.00992 18.0225 4.66013 18.135 5.69804C18.249 6.74999 18.25 8.10843 18.25 10H19.75ZM16.4981 2.56168C16.8589 2.82382 17.1762 3.14111 17.4383 3.50191L18.6518 2.62023C18.2972 2.13209 17.8679 1.70281 17.3798 1.34815L16.4981 2.56168ZM10 0.25C8.14184 0.25 6.68798 0.248971 5.53648 0.373728C4.37094 0.500006 3.42656 0.762324 2.62023 1.34815L3.50191 2.56168C4.00992 2.19259 4.66013 1.97745 5.69804 1.865C6.74999 1.75103 8.10843 1.75 10 1.75V0.25ZM1.75 10C1.75 8.10843 1.75103 6.74999 1.865 5.69804C1.97745 4.66013 2.19259 4.00992 2.56168 3.50191L1.34815 2.62023C0.762324 3.42656 0.500006 4.37094 0.373728 5.53648C0.248971 6.68798 0.25 8.14184 0.25 10H1.75ZM2.62023 1.34815C2.13209 1.70281 1.70281 2.13209 1.34815 2.62023L2.56168 3.50191C2.82382 3.14111 3.14111 2.82382 3.50191 2.56168L2.62023 1.34815ZM6 7.75H14V6.25H6V7.75ZM6 11.75H14V10.25H6V11.75ZM6 15.75H9V14.25H6V15.75Z"
                    fill="#2D264B"
                  />
                </svg>
              </mat-icon>
              <span>In hoá đơn</span>
            </button>
            <button
              mat-menu-item
              (click)="printProcess()"
              *ngIf="canAccess('print-process')"
            >
              <mat-icon>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="20"
                  height="22"
                  viewBox="0 0 20 22"
                  fill="none"
                >
                  <path
                    d="M3.06107 20.0451L3.50191 19.4383L3.06107 20.0451ZM1.95491 18.9389L2.56168 18.4981L1.95491 18.9389ZM18.0451 18.9389L17.4383 18.4981L18.0451 18.9389ZM16.9389 20.0451L16.4981 19.4383L16.9389 20.0451ZM16.9389 1.95491L16.4981 2.56168L16.9389 1.95491ZM18.0451 3.06107L17.4383 3.50191L18.0451 3.06107ZM3.06107 1.95491L3.50191 2.56168L3.06107 1.95491ZM1.95491 3.06107L2.56168 3.50191L1.95491 3.06107ZM6 6.25C5.58579 6.25 5.25 6.58579 5.25 7C5.25 7.41421 5.58579 7.75 6 7.75V6.25ZM14 7.75C14.4142 7.75 14.75 7.41421 14.75 7C14.75 6.58579 14.4142 6.25 14 6.25V7.75ZM6 10.25C5.58579 10.25 5.25 10.5858 5.25 11C5.25 11.4142 5.58579 11.75 6 11.75V10.25ZM14 11.75C14.4142 11.75 14.75 11.4142 14.75 11C14.75 10.5858 14.4142 10.25 14 10.25V11.75ZM6 14.25C5.58579 14.25 5.25 14.5858 5.25 15C5.25 15.4142 5.58579 15.75 6 15.75V14.25ZM9 15.75C9.41421 15.75 9.75 15.4142 9.75 15C9.75 14.5858 9.41421 14.25 9 14.25V15.75ZM18.25 10V12H19.75V10H18.25ZM1.75 12V10H0.25V12H1.75ZM10 20.25C8.10843 20.25 6.74999 20.249 5.69804 20.135C4.66013 20.0225 4.00992 19.8074 3.50191 19.4383L2.62023 20.6518C3.42656 21.2377 4.37094 21.5 5.53648 21.6263C6.68798 21.751 8.14184 21.75 10 21.75V20.25ZM0.25 12C0.25 13.8582 0.248971 15.312 0.373728 16.4635C0.500006 17.6291 0.762324 18.5734 1.34815 19.3798L2.56168 18.4981C2.19259 17.9901 1.97745 17.3399 1.865 16.302C1.75103 15.25 1.75 13.8916 1.75 12H0.25ZM3.50191 19.4383C3.14111 19.1762 2.82382 18.8589 2.56168 18.4981L1.34815 19.3798C1.70281 19.8679 2.13209 20.2972 2.62023 20.6518L3.50191 19.4383ZM18.25 12C18.25 13.8916 18.249 15.25 18.135 16.302C18.0225 17.3399 17.8074 17.9901 17.4383 18.4981L18.6518 19.3798C19.2377 18.5734 19.5 17.6291 19.6263 16.4635C19.751 15.312 19.75 13.8582 19.75 12H18.25ZM10 21.75C11.8582 21.75 13.312 21.751 14.4635 21.6263C15.6291 21.5 16.5734 21.2377 17.3798 20.6518L16.4981 19.4383C15.9901 19.8074 15.3399 20.0225 14.302 20.135C13.25 20.249 11.8916 20.25 10 20.25V21.75ZM17.4383 18.4981C17.1762 18.8589 16.8589 19.1762 16.4981 19.4383L17.3798 20.6518C17.8679 20.2972 18.2972 19.8679 18.6518 19.3798L17.4383 18.4981ZM10 1.75C11.8916 1.75 13.25 1.75103 14.302 1.865C15.3399 1.97745 15.9901 2.19259 16.4981 2.56168L17.3798 1.34815C16.5734 0.762324 15.6291 0.500006 14.4635 0.373728C13.312 0.248971 11.8582 0.25 10 0.25V1.75ZM19.75 10C19.75 8.14184 19.751 6.68798 19.6263 5.53648C19.5 4.37094 19.2377 3.42656 18.6518 2.62023L17.4383 3.50191C17.8074 4.00992 18.0225 4.66013 18.135 5.69804C18.249 6.74999 18.25 8.10843 18.25 10H19.75ZM16.4981 2.56168C16.8589 2.82382 17.1762 3.14111 17.4383 3.50191L18.6518 2.62023C18.2972 2.13209 17.8679 1.70281 17.3798 1.34815L16.4981 2.56168ZM10 0.25C8.14184 0.25 6.68798 0.248971 5.53648 0.373728C4.37094 0.500006 3.42656 0.762324 2.62023 1.34815L3.50191 2.56168C4.00992 2.19259 4.66013 1.97745 5.69804 1.865C6.74999 1.75103 8.10843 1.75 10 1.75V0.25ZM1.75 10C1.75 8.10843 1.75103 6.74999 1.865 5.69804C1.97745 4.66013 2.19259 4.00992 2.56168 3.50191L1.34815 2.62023C0.762324 3.42656 0.500006 4.37094 0.373728 5.53648C0.248971 6.68798 0.25 8.14184 0.25 10H1.75ZM2.62023 1.34815C2.13209 1.70281 1.70281 2.13209 1.34815 2.62023L2.56168 3.50191C2.82382 3.14111 3.14111 2.82382 3.50191 2.56168L2.62023 1.34815ZM6 7.75H14V6.25H6V7.75ZM6 11.75H14V10.25H6V11.75ZM6 15.75H9V14.25H6V15.75Z"
                    fill="#2D264B"
                  />
                </svg>
              </mat-icon>
              <span>In chế biến</span>
            </button>

            <!-- <ng-container *ngIf=""> -->
            <button mat-menu-item (click)="openSwapTable()">
              <mat-icon>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="21"
                  height="22"
                  viewBox="0 0 21 22"
                  fill="none"
                >
                  <path
                    d="M2.58818 6.77661L3.31435 6.9642L2.58818 6.77661ZM6.08799 3.48256L6.22926 4.21913L6.08799 3.48256ZM8.15264 12.2008L7.94105 11.4813L8.15264 12.2008ZM9.25938 13.3076L8.53984 13.096L9.25938 13.3076ZM14.6836 18.8721L14.8712 19.5982L14.6836 18.8721ZM17.9777 15.3722L18.7142 15.5135L17.9777 15.3722ZM19.7323 6.22315L18.9957 6.08189L19.7323 6.22315ZM15.237 1.72791L15.0958 0.991338L15.237 1.72791ZM4.0052 16.3944C3.71231 16.6873 3.71231 17.1621 4.0052 17.455C4.2981 17.7479 4.77297 17.7479 5.06586 17.455L4.0052 16.3944ZM6.48008 16.0408C6.77297 15.7479 6.77297 15.273 6.48008 14.9802C6.18718 14.6873 5.71231 14.6873 5.41942 14.9802L6.48008 16.0408ZM4.71231 19.9299C4.41942 20.2228 4.41942 20.6977 4.71231 20.9906C5.0052 21.2835 5.48008 21.2835 5.77297 20.9906L4.71231 19.9299ZM7.18718 19.5764C7.48008 19.2835 7.48008 18.8086 7.18718 18.5157C6.89429 18.2228 6.41942 18.2228 6.12652 18.5157L7.18718 19.5764ZM0.46967 15.6873C0.176777 15.9802 0.176777 16.455 0.46967 16.7479C0.762563 17.0408 1.23744 17.0408 1.53033 16.7479L0.46967 15.6873ZM2.94454 15.3337C3.23744 15.0408 3.23744 14.5659 2.94454 14.273C2.65165 13.9802 2.17678 13.9802 1.88388 14.273L2.94454 15.3337ZM18.9957 6.08189L17.2411 15.231L18.7142 15.5135L20.4689 6.36441L18.9957 6.08189ZM6.22926 4.21913L15.3783 2.46449L15.0958 0.991338L5.94673 2.74598L6.22926 4.21913ZM3.31435 6.9642C3.67585 5.56477 4.81437 4.49049 6.22926 4.21913L5.94673 2.74598C3.95789 3.12741 2.36735 4.63286 1.86202 6.58903L3.31435 6.9642ZM7.94105 11.4813C5.18864 12.2907 2.59178 9.76131 3.31435 6.9642L1.86202 6.58903C0.853112 10.4946 4.47515 14.0641 8.36424 12.9204L7.94105 11.4813ZM9.97891 13.5191C10.3454 12.2728 9.18743 11.1148 7.94105 11.4813L8.36424 12.9204C8.47164 12.8888 8.57143 12.9886 8.53984 13.096L9.97891 13.5191ZM14.496 18.1459C11.6989 18.8685 9.16949 16.2716 9.97891 13.5191L8.53984 13.096C7.39617 16.9851 10.9656 20.6071 14.8712 19.5982L14.496 18.1459ZM17.2411 15.231C16.9697 16.6459 15.8955 17.7844 14.496 18.1459L14.8712 19.5982C16.8274 19.0929 18.3328 17.5023 18.7142 15.5135L17.2411 15.231ZM20.4689 6.36441C21.08 3.17782 18.2824 0.3802 15.0958 0.991338L15.3783 2.46449C17.5237 2.05304 19.4072 3.93653 18.9957 6.08189L20.4689 6.36441ZM5.06586 17.455L6.48008 16.0408L5.41942 14.9802L4.0052 16.3944L5.06586 17.455ZM5.77297 20.9906L7.18718 19.5764L6.12652 18.5157L4.71231 19.9299L5.77297 20.9906ZM1.53033 16.7479L2.94454 15.3337L1.88388 14.273L0.46967 15.6873L1.53033 16.7479Z"
                    fill="#2D264B"
                  />
                </svg>
              </mat-icon>
              <span>Chuyển bàn</span>
            </button>
            <button mat-menu-item (click)="onAddProductOutside()">
              <mat-icon>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="20"
                  height="22"
                  viewBox="0 0 20 22"
                  fill="none"
                >
                  <path
                    d="M3.06107 20.0451L3.50191 19.4383L3.06107 20.0451ZM1.95491 18.9389L2.56168 18.4981L1.95491 18.9389ZM18.0451 18.9389L17.4383 18.4981L18.0451 18.9389ZM16.9389 20.0451L16.4981 19.4383L16.9389 20.0451ZM16.9389 1.95491L16.4981 2.56168L16.9389 1.95491ZM18.0451 3.06107L17.4383 3.50191L18.0451 3.06107ZM3.06107 1.95491L3.50191 2.56168L3.06107 1.95491ZM1.95491 3.06107L2.56168 3.50191L1.95491 3.06107ZM6 6.25C5.58579 6.25 5.25 6.58579 5.25 7C5.25 7.41421 5.58579 7.75 6 7.75V6.25ZM14 7.75C14.4142 7.75 14.75 7.41421 14.75 7C14.75 6.58579 14.4142 6.25 14 6.25V7.75ZM6 10.25C5.58579 10.25 5.25 10.5858 5.25 11C5.25 11.4142 5.58579 11.75 6 11.75V10.25ZM14 11.75C14.4142 11.75 14.75 11.4142 14.75 11C14.75 10.5858 14.4142 10.25 14 10.25V11.75ZM6 14.25C5.58579 14.25 5.25 14.5858 5.25 15C5.25 15.4142 5.58579 15.75 6 15.75V14.25ZM9 15.75C9.41421 15.75 9.75 15.4142 9.75 15C9.75 14.5858 9.41421 14.25 9 14.25V15.75ZM18.25 10V12H19.75V10H18.25ZM1.75 12V10H0.25V12H1.75ZM10 20.25C8.10843 20.25 6.74999 20.249 5.69804 20.135C4.66013 20.0225 4.00992 19.8074 3.50191 19.4383L2.62023 20.6518C3.42656 21.2377 4.37094 21.5 5.53648 21.6263C6.68798 21.751 8.14184 21.75 10 21.75V20.25ZM0.25 12C0.25 13.8582 0.248971 15.312 0.373728 16.4635C0.500006 17.6291 0.762324 18.5734 1.34815 19.3798L2.56168 18.4981C2.19259 17.9901 1.97745 17.3399 1.865 16.302C1.75103 15.25 1.75 13.8916 1.75 12H0.25ZM3.50191 19.4383C3.14111 19.1762 2.82382 18.8589 2.56168 18.4981L1.34815 19.3798C1.70281 19.8679 2.13209 20.2972 2.62023 20.6518L3.50191 19.4383ZM18.25 12C18.25 13.8916 18.249 15.25 18.135 16.302C18.0225 17.3399 17.8074 17.9901 17.4383 18.4981L18.6518 19.3798C19.2377 18.5734 19.5 17.6291 19.6263 16.4635C19.751 15.312 19.75 13.8582 19.75 12H18.25ZM10 21.75C11.8582 21.75 13.312 21.751 14.4635 21.6263C15.6291 21.5 16.5734 21.2377 17.3798 20.6518L16.4981 19.4383C15.9901 19.8074 15.3399 20.0225 14.302 20.135C13.25 20.249 11.8916 20.25 10 20.25V21.75ZM17.4383 18.4981C17.1762 18.8589 16.8589 19.1762 16.4981 19.4383L17.3798 20.6518C17.8679 20.2972 18.2972 19.8679 18.6518 19.3798L17.4383 18.4981ZM10 1.75C11.8916 1.75 13.25 1.75103 14.302 1.865C15.3399 1.97745 15.9901 2.19259 16.4981 2.56168L17.3798 1.34815C16.5734 0.762324 15.6291 0.500006 14.4635 0.373728C13.312 0.248971 11.8582 0.25 10 0.25V1.75ZM19.75 10C19.75 8.14184 19.751 6.68798 19.6263 5.53648C19.5 4.37094 19.2377 3.42656 18.6518 2.62023L17.4383 3.50191C17.8074 4.00992 18.0225 4.66013 18.135 5.69804C18.249 6.74999 18.25 8.10843 18.25 10H19.75ZM16.4981 2.56168C16.8589 2.82382 17.1762 3.14111 17.4383 3.50191L18.6518 2.62023C18.2972 2.13209 17.8679 1.70281 17.3798 1.34815L16.4981 2.56168ZM10 0.25C8.14184 0.25 6.68798 0.248971 5.53648 0.373728C4.37094 0.500006 3.42656 0.762324 2.62023 1.34815L3.50191 2.56168C4.00992 2.19259 4.66013 1.97745 5.69804 1.865C6.74999 1.75103 8.10843 1.75 10 1.75V0.25ZM1.75 10C1.75 8.10843 1.75103 6.74999 1.865 5.69804C1.97745 4.66013 2.19259 4.00992 2.56168 3.50191L1.34815 2.62023C0.762324 3.42656 0.500006 4.37094 0.373728 5.53648C0.248971 6.68798 0.25 8.14184 0.25 10H1.75ZM2.62023 1.34815C2.13209 1.70281 1.70281 2.13209 1.34815 2.62023L2.56168 3.50191C2.82382 3.14111 3.14111 2.82382 3.50191 2.56168L2.62023 1.34815ZM6 7.75H14V6.25H6V7.75ZM6 11.75H14V10.25H6V11.75ZM6 15.75H9V14.25H6V15.75Z"
                    fill="#2D264B"
                  />
                </svg>
              </mat-icon>
              <span>Thêm món ngoài</span>
            </button>
            <button mat-menu-item (click)="close()">
              <mat-icon>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="20"
                  height="22"
                  viewBox="0 0 20 22"
                  fill="none"
                >
                  <path
                    d="M3.06107 20.0451L3.50191 19.4383L3.06107 20.0451ZM1.95491 18.9389L2.56168 18.4981L1.95491 18.9389ZM18.0451 18.9389L17.4383 18.4981L18.0451 18.9389ZM16.9389 20.0451L16.4981 19.4383L16.9389 20.0451ZM16.9389 1.95491L16.4981 2.56168L16.9389 1.95491ZM18.0451 3.06107L17.4383 3.50191L18.0451 3.06107ZM3.06107 1.95491L3.50191 2.56168L3.06107 1.95491ZM1.95491 3.06107L2.56168 3.50191L1.95491 3.06107ZM6 6.25C5.58579 6.25 5.25 6.58579 5.25 7C5.25 7.41421 5.58579 7.75 6 7.75V6.25ZM14 7.75C14.4142 7.75 14.75 7.41421 14.75 7C14.75 6.58579 14.4142 6.25 14 6.25V7.75ZM6 10.25C5.58579 10.25 5.25 10.5858 5.25 11C5.25 11.4142 5.58579 11.75 6 11.75V10.25ZM14 11.75C14.4142 11.75 14.75 11.4142 14.75 11C14.75 10.5858 14.4142 10.25 14 10.25V11.75ZM6 14.25C5.58579 14.25 5.25 14.5858 5.25 15C5.25 15.4142 5.58579 15.75 6 15.75V14.25ZM9 15.75C9.41421 15.75 9.75 15.4142 9.75 15C9.75 14.5858 9.41421 14.25 9 14.25V15.75ZM18.25 10V12H19.75V10H18.25ZM1.75 12V10H0.25V12H1.75ZM10 20.25C8.10843 20.25 6.74999 20.249 5.69804 20.135C4.66013 20.0225 4.00992 19.8074 3.50191 19.4383L2.62023 20.6518C3.42656 21.2377 4.37094 21.5 5.53648 21.6263C6.68798 21.751 8.14184 21.75 10 21.75V20.25ZM0.25 12C0.25 13.8582 0.248971 15.312 0.373728 16.4635C0.500006 17.6291 0.762324 18.5734 1.34815 19.3798L2.56168 18.4981C2.19259 17.9901 1.97745 17.3399 1.865 16.302C1.75103 15.25 1.75 13.8916 1.75 12H0.25ZM3.50191 19.4383C3.14111 19.1762 2.82382 18.8589 2.56168 18.4981L1.34815 19.3798C1.70281 19.8679 2.13209 20.2972 2.62023 20.6518L3.50191 19.4383ZM18.25 12C18.25 13.8916 18.249 15.25 18.135 16.302C18.0225 17.3399 17.8074 17.9901 17.4383 18.4981L18.6518 19.3798C19.2377 18.5734 19.5 17.6291 19.6263 16.4635C19.751 15.312 19.75 13.8582 19.75 12H18.25ZM10 21.75C11.8582 21.75 13.312 21.751 14.4635 21.6263C15.6291 21.5 16.5734 21.2377 17.3798 20.6518L16.4981 19.4383C15.9901 19.8074 15.3399 20.0225 14.302 20.135C13.25 20.249 11.8916 20.25 10 20.25V21.75ZM17.4383 18.4981C17.1762 18.8589 16.8589 19.1762 16.4981 19.4383L17.3798 20.6518C17.8679 20.2972 18.2972 19.8679 18.6518 19.3798L17.4383 18.4981ZM10 1.75C11.8916 1.75 13.25 1.75103 14.302 1.865C15.3399 1.97745 15.9901 2.19259 16.4981 2.56168L17.3798 1.34815C16.5734 0.762324 15.6291 0.500006 14.4635 0.373728C13.312 0.248971 11.8582 0.25 10 0.25V1.75ZM19.75 10C19.75 8.14184 19.751 6.68798 19.6263 5.53648C19.5 4.37094 19.2377 3.42656 18.6518 2.62023L17.4383 3.50191C17.8074 4.00992 18.0225 4.66013 18.135 5.69804C18.249 6.74999 18.25 8.10843 18.25 10H19.75ZM16.4981 2.56168C16.8589 2.82382 17.1762 3.14111 17.4383 3.50191L18.6518 2.62023C18.2972 2.13209 17.8679 1.70281 17.3798 1.34815L16.4981 2.56168ZM10 0.25C8.14184 0.25 6.68798 0.248971 5.53648 0.373728C4.37094 0.500006 3.42656 0.762324 2.62023 1.34815L3.50191 2.56168C4.00992 2.19259 4.66013 1.97745 5.69804 1.865C6.74999 1.75103 8.10843 1.75 10 1.75V0.25ZM1.75 10C1.75 8.10843 1.75103 6.74999 1.865 5.69804C1.97745 4.66013 2.19259 4.00992 2.56168 3.50191L1.34815 2.62023C0.762324 3.42656 0.500006 4.37094 0.373728 5.53648C0.248971 6.68798 0.25 8.14184 0.25 10H1.75ZM2.62023 1.34815C2.13209 1.70281 1.70281 2.13209 1.34815 2.62023L2.56168 3.50191C2.82382 3.14111 3.14111 2.82382 3.50191 2.56168L2.62023 1.34815ZM6 7.75H14V6.25H6V7.75ZM6 11.75H14V10.25H6V11.75ZM6 15.75H9V14.25H6V15.75Z"
                    fill="#2D264B"
                  />
                </svg>
              </mat-icon>
              <span>Đóng</span>
            </button>
            <!-- </ng-container> -->
          </mat-menu>
        </div>
      </div>
      <!-- Title 2 -->
      <div
        class="top headingBodyMedium"
        style="display: flex; display: flex; width: 100%"
      >
        <div style="flex: 1; flex-direction: column; align-items: flex-start">
          <div style="display: flex">
            <div>Phiếu số: {{ form?.controls["id"].value }}</div>
          </div>
          <div style="display: flex">
            <div>
              Bàn số: {{ table?.tableName }}, {{ table?.tableSectionName }}
            </div>
          </div>
        </div>
        <div style="flex: 1; flex-direction: column; align-items: flex-start">
          <div style="display: flex">
            <div>
              Giờ vào:
              {{ form?.controls["createdAt"].value | date : "H:mm:ss" }}
            </div>
          </div>
          <div style="display: flex">
            <div>Nv: {{ form?.controls["employeeName"].value }}</div>
          </div>
        </div>
      </div>

      <!-- Title DS -->
      <div class="mid">
        <div class="head-detail">
          <div
            class="coloum headingBodyMedium"
            style="display: flex; flex-direction: row"
          >
            <div>Tên món</div>
            <div style="text-align: center">ĐG/TT</div>
            <div style="text-align: center">SL</div>
          </div>
        </div>

        <!-- DS -->
        <div
          class="body-detail"
          id="body-detail-invoice"
          formArrayName="orderDetail"
        >
          <!-- ds -->
          <ng-container
            *ngFor="let food of orderDetails?.controls; let i = index"
            ><div class="food" formGroupName="{{ i }}">
              <div
                class="coloum"
                style="
                  display: flex;
                  flex-direction: row;
                  align-items: center;
                  height: 30px;
                "
              >
                <div>
                  <div class="name">
                    <input
                      class="heading-1"
                      type="text"
                      formControlName="productName"
                      style="
                        border: 0;
                        width: 100%;
                        background: none;
                        border: 0;
                        width: 100%;
                        white-space: nowrap;
                        overflow: hidden !important;
                        text-overflow: ellipsis;
                        color: #000;
                      "
                    />
                  </div>
                </div>
                <div>
                  <input
                    class="name heading-1"
                    type="text"
                    formControlName="price"
                    style="
                      border: 0;
                      width: 100%;
                      background: none;
                      border: 0;
                      width: 100%;
                      padding: 0;
                      text-align: center;
                      color: #000;
                    "
                    mask="separator.3"
                    thousandSeparator=","
                  />
                </div>
                <div
                  class="list-qty"
                  style="
                    display: flex;
                    flex-direction: row;
                    justify-content: space-between;
                    align-items: center;
                    border: 1px solid #d5d5d5;
                    border-radius: 5px;
                  "
                >
                  <div
                    matRipple
                    [matRippleDisabled]="false"
                    (click)="btn_minus(food.get('id')?.value, i)"
                    #toTarget
                    style="
                      display: flex;
                      border-right: 1px solid #d5d5d5;
                      border-radius: 4px 0 0 4px;
                    "
                  >
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="24"
                      height="25"
                      viewBox="0 0 24 25"
                      fill="none"
                    >
                      <path
                        d="M9 12.5H15"
                        stroke="black"
                        stroke-width="1.5"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                    </svg>
                  </div>

                  <div style="flex: 1 1 auto">
                    <input
                      class="heading-1"
                      type="number"
                      formControlName="qty"
                      style="
                        width: 100%;
                        border: 0;
                        text-align-last: center;
                        color: #000;
                      "
                    />
                  </div>
                  <div
                    matRipple
                    [matRippleDisabled]="false"
                    (click)="btn_plus(food.get('id')?.value, i)"
                    style="
                      display: flex;
                      border-left: 1px solid #d5d5d5;
                      border-radius: 0 4px 4px 0;
                    "
                  >
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="24"
                      height="25"
                      viewBox="0 0 24 25"
                      fill="none"
                    >
                      <path
                        d="M9 12.5H15"
                        stroke="black"
                        stroke-width="1.5"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                      <path
                        d="M12 9.5L12 15.5"
                        stroke="black"
                        stroke-width="1.5"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                    </svg>
                  </div>
                </div>
              </div>
              <div
                class="coloum"
                style="flex-direction: row; align-items: center; height: 30px"
              >
                <div style="display: flex" class="description">
                  <div class="">
                    <input
                      style="
                        border: 0px;
                        width: 100%;
                        color: rgb(30, 92, 248);
                        font-style: italic;
                      "
                      type="text"
                      placeholder="Note..."
                      formControlName="description"
                    />
                  </div>

                  <div style="display: flex">
                    <div style="color: rgb(30, 92, 248); font-style: italic">
                      %
                    </div>
                    <input
                      style="
                        border: 0px;
                        width: 100%;
                        color: rgb(30, 92, 248);
                        font-style: italic;
                      "
                      type="text"
                      placeholder="DC"
                      formControlName="discount"
                    />
                  </div>
                </div>

                <div>
                  <div
                    class="nam heading-1"
                    style="
                      text-align: center;
                      color: rgb(30, 92, 248);
                      font-style: italic;
                    "
                  >
                    {{
                      totalItem(orderDetails.controls[i])
                        | currency : "VND" : ""
                    }}
                  </div>
                </div>

                <!-- Xoá -->
                <div class="item-delete">
                  <div
                    style="
                      display: flex;
                      border: 1px solid #d5d5d5;
                      border-radius: 4px;
                      width: 22px !important;
                      height: 22px !important;
                      align-self: center;
                      align-items: center;
                      justify-content: center;
                    "
                    matRipple
                    [matRippleDisabled]="false"
                    (click)="openDeleteItem(food.get('id')?.value, i)"
                  >
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="24"
                      height="25"
                      viewBox="0 0 24 25"
                      fill="none"
                    >
                      <path
                        d="M9.87894 14.6215L14.1216 10.3789"
                        stroke="black"
                        stroke-width="1.5"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                      <path
                        d="M9.87894 10.3789L14.1216 14.6216"
                        stroke="black"
                        stroke-width="1.5"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                    </svg>
                  </div>
                </div>
              </div></div
          ></ng-container>

          <button
            mat-raised-button
            class="btn button-cus"
            style="
              border-radius: 5px;
              border: 1px solid #000;
              width: 100%;
              display: flex;
              align-items: center;
              justify-content: center;
              margin: 10px 0px;
            "
            (click)="goFind()"
          >
            + Thêm món
          </button>
        </div>
      </div>

      <!-- Total -->
      <div class="bot">
        <div class="bot-up">
          <div class="sub-total">
            <div class="col-10">Tạm tính</div>
            <div class="col-2">{{ totalSub() | currency : "VND" : "" }}₫</div>
          </div>
          <div class="discount">
            <div class="col-10">
              <div>Thuế</div>
              <div class="discount-number">
                <input
                  type="text"
                  style="text-align: end"
                  formControlName="tax"
                />%
              </div>
            </div>
            <div class="col-2">
              {{
                (totalSub() * form.get("tax").value) / 100
                  | currency : "VND" : ""
              }}₫
            </div>
          </div>
          <div class="discount">
            <div class="col-10">
              <div>Giảm giá</div>
              <div class="discount-number">
                <input
                  type="text"
                  style="text-align: end"
                  formControlName="discRate"
                />%
              </div>
            </div>
            <div class="col-2">
              {{
                (totalSub() * form.get("discRate").value) / 100
                  | currency : "VND" : ""
              }}₫
            </div>
          </div>
        </div>

        <div class="total">
          <div class="col-6" style="flex: 1">
            <div class="text">Tổng tiền</div>
          </div>
          <div class="col-2" style="flex: 1">
            <div class="total-number"></div>
            {{ totalAll() | currency : "VND" : "" }}₫
          </div>
        </div>

        <button
          class="my-custom-style button-cus"
          mat-raised-button
          style="
            margin-top: 5px;
            border-radius: 5px;
            width: 100%;
            font-size: 13pt;
          "
          (click)="goPayment(form.get('id').value)"
        >
          Thanh Toán
        </button>
        <button
          class="my-custom-style button-cus"
          mat-raised-button
          style="
            margin-top: 5px;
            border-radius: 5px;
            width: 100%;
            font-size: 13pt;
          "
          (click)="btn_SendOrder(form.get('id').value)"
        >
          Place Order
        </button>
      </div>

      <!-- Button -->
    </div>
  </div>
</ng-container>

<ng-template #loading>
  <div class="right-column">
    <div style="margin: auto">
      <mat-spinner></mat-spinner>
    </div>
  </div>
</ng-template>
